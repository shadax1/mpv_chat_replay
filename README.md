# mpv_twitch_chat_replay
### Apr 20th 2022
Python script that replays a livestream chat alongside a local video playing in [mpv](https://mpv.io/).

**Note:** At the moment, this script only works with chat logs from HexChat.

## Requirements
This script relies on a couple things:
+ mpv player
+ Python 3 (this was developed with 3.9.7 but anything above should work fine)
+ `mpv.py` which is included in this repository. It was taken from [here](https://github.com/jaseg/python-mpv)
+ `mpv-1.dll` which is included in this repository but can also be found [here](https://sourceforge.net/projects/mpv-player-windows/files/libmpv/mpv-dev-x86_64-20210801-git-416668d.7z/download)
+ `ffprobe` which isn't included in this repository. `ffprobe` can be downloaded from ffmpeg builds [here](https://github.com/BtbN/FFmpeg-Builds/releases). The script assumes `ffprobe` is in the `PATH` environment variables. Type `ffprobe` in the command line to see if the command is found or not
+ The video file to play needs be named exactly the same way OBS does by default (example: `2017-03-10_22-57-54.mp4`)
+ To display chat logs, the script will scan a log file specified by the user. At the moment, this script works with chat log files generated by HexChat
+ The year when logging started for the given log file

## How to use
Download this repository and unzip it anywhere on your disk. Open a command line in the unzipped folder and type:
```bash
python mpv_twitch_chat_replay.py
```
You will be prompted to enter the path to the video to play, the chat log file to scan alongside the video and the year when logging started for that log file.
mpv will then start and the command line will display chat lines as the video plays or as you scrub through it.

## Demonstration
You can see the script in action [here](https://twitter.com/Shadax1/status/1516870477591023618)
